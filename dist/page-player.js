"use strict";var app={init:function(){this.swiper(),this.gotop(),this.getList(),this.bindEvents()},bindEvents:function(){FastClick.attach(document.body),$(".btn-gotop").click(function(){$(document).scrollTop(0)}),$(window).scroll(function(){app.gotop()})},getList:function(){var e=$("#play_list").attr("data-channelCode"),t=$("#play_list").attr("data-newsKind");new Listview({element:"#player_news",template:"#listview_template",dataUrl:"/d.json",queryParams:'[{"channelCode":"'+e+'","newsKind":"'+t+'"}]',more:"#player_news .btn-more",callback:function(){var e=new CommentInfo({commentItem:"#player_news .js-comment-item2",commentType:2});e.init(),$("#player_news .js-comment-item2").removeClass("js-comment-item2")}})},swiper:function(){app.initChannel(),$("#swiper_focus").swiper({autoplay:4e3,mode:"horizontal",loop:!0,calculateHeight:!0,pagination:".slide-nav1"});var e=new Swiper(".swiper-channel",{freeMode:!0,slidesPerView:"auto"}),t=new Swiper("#player_swiper",{onSlideChangeEnd:function(t){var a=t.activeIndex;$("#player_tab .swiper-slide").eq(a).addClass("active").siblings().removeClass("active"),e.slideTo(a)}});$("#player_tab .swiper-slide:eq(0)").addClass("active"),$("#player_tab .swiper-slide a").click(function(){var e=$(this),a=e.parent();a.hasClass("active")||(a.addClass("active").siblings().removeClass("active"),t.slideTo(a.index(),300,!1))})},initChannel:function(){for(var e=$("#player_tab .swiper-slide"),t=0;t<e.length;t++){var a=e.eq(t).find("a").text();$('<div class="swiper-slide"><ul class="list-news list-news-ex"></ul><a href="javascript:;" class="btn-more-ex">更多'+a+"</a></div>").appendTo("#player_swiper .swiper-wrapper")}e.each(function(e){var t=$(this),a=t.find("a").attr("data-channelCode"),n=t.find("a").attr("data-newsKind");new Listview({element:"#player_swiper .list-news:eq("+e+")",template:"#listview_template",dataUrl:"/dd.json",showLoading:!1,queryParams:'[{"channelCode":"'+a+'","newsKind":"'+n+'"}]',more:".btn-more",callback:function(){var e=new CommentInfo({commentItem:".js-comment-item2",commentType:2});e.init(),$(".js-comment-item2").removeClass("js-comment-item2")}})})},gotop:function(){var e=$(window).scrollTop(),t=$(".header").height();e>t?$(".btn-gotop").fadeIn():$(".btn-gotop").fadeOut()}};app.init();